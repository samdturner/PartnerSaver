(function(){var t,e,n,r,o,i,a,s,u,c,l,h,d,p,f,m,v,g,y,E,b,R,w,S,k,T,_,N,O,A,C,L,x,H,D,I,M,j,F,q,X,P,G,J,B,U,Y,K,$,Q,V,W,z,Z,tt,et,nt=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},rt=function(t,e){function n(){this.constructor=t}for(var r in e)ot.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},ot={}.hasOwnProperty,it=[].slice,at=function(t,e){return function(){return t.apply(e,arguments)}};H={},d=10,W=!1,F=null,y=null,L=null,P=null,et=null,r={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},S=function(t){var e;return t=new n(t),Y(),h(),null!=F&&F.start(),W&&(e=z(t.absolute))?(k(e),T(t,null,!1)):T(t,Q)},z=function(t){var e;return e=H[t],e&&!e.transitionCacheDisabled?e:void 0},b=function(t){return null==t&&(t=!0),W=t},E=function(t){return null==t&&(t=!0),c?t?null!=F?F:F=new i("html"):(null!=F&&F.uninstall(),F=null):void 0},T=function(t,e,n){return null==n&&(n=!0),Z(r.FETCH,{url:t.absolute}),null!=et&&et.abort(),et=new XMLHttpRequest,et.open("GET",t.withoutHashForIE10compatibility(),!0),et.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),et.setRequestHeader("X-XHR-Referer",P),et.onload=function(){var n;return Z(r.RECEIVE,{url:t.absolute}),(n=j())?(G(t),J(),p.apply(null,w(n)),x(),"function"==typeof e&&e(),Z(r.LOAD)):document.location.href=g()||t.absolute},F&&n&&(et.onprogress=function(t){return function(t){var e;return e=t.lengthComputable?t.loaded/t.total*100:F.value+(100-F.value)/10,F.advanceTo(e)}}(this)),et.onloadend=function(){return et=null},et.onerror=function(){return document.location.href=t.absolute},et.send()},k=function(t){return null!=et&&et.abort(),p(t.title,t.body),q(t),Z(r.RESTORE)},h=function(){var t;return t=new n(y.url),H[t.absolute]={url:t.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(d)},I=function(t){return null==t&&(t=d),/^[\d]+$/.test(t)?d=parseInt(t):void 0},m=function(t){var e,n,o,i,a,s;for(a=Object.keys(H),e=a.map(function(t){return H[t].cachedAt}).sort(function(t,e){return e-t}),s=[],n=0,i=a.length;i>n;n++)o=a[n],H[o].cachedAt<=e[t]&&(Z(r.EXPIRE,H[o]),s.push(delete H[o]));return s},p=function(e,n,o,i){return Z(r.BEFORE_UNLOAD),document.title=e,document.documentElement.replaceChild(n,document.body),null!=o&&t.update(o),V(),i&&R(),y=window.history.state,null!=F&&F.done(),Z(r.CHANGE),Z(r.UPDATE)},R=function(){var t,e,n,r,o,i,a,s,u,c,l,h;for(h=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,o=h.length;o>n;n++)if(l=h[n],""===(u=l.type)||"text/javascript"===u){for(e=document.createElement("script"),c=l.attributes,r=0,i=c.length;i>r;r++)t=c[r],e.setAttribute(t.name,t.value);l.hasAttribute("async")||(e.async=!1),e.appendChild(document.createTextNode(l.innerHTML)),s=l.parentNode,a=l.nextSibling,s.removeChild(l),s.insertBefore(e,a)}},K=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},V=function(){var t,e;return t=(e=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[e.length-1],t&&document.activeElement!==t?t.focus():void 0},G=function(t){return(t=new n(t)).absolute!==P?window.history.pushState({turbolinks:!0,url:t.absolute},"",t.absolute):void 0},J=function(){var t,e;return(t=et.getResponseHeader("X-XHR-Redirected-To"))?(t=new n(t),e=t.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",t.href+e)):void 0},g=function(){var t;return null!=(t=et.getResponseHeader("Location"))&&new n(t).crossOrigin()?t:void 0},Y=function(){return P=document.location.href},U=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},B=function(){return y=window.history.state},x=function(){var t;return navigator.userAgent.match(/Firefox/)&&!(t=new n).hasNoHash()?(window.history.replaceState(y,"",t.withoutHash()),document.location.hash=t.hash):void 0},q=function(t){return window.scrollTo(t.positionX,t.positionY)},Q=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},f=function(t){var e,n,r;if(null==t||"object"!=typeof t)return t;e=new t.constructor;for(n in t)r=t[n],e[n]=f(r);return e},M=function(t){var e,n;return n=(null!=(e=document.cookie.match(new RegExp(t+"=(\\w+)")))?e[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},Z=function(t,e){var n;return"undefined"!=typeof Prototype&&Event.fire(document,t,e,!0),n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},D=function(t){return!Z(r.BEFORE_CHANGE,{url:t})},j=function(){var t,e,n,r,o,i;return e=function(){var t;return 400<=(t=et.status)&&600>t},i=function(){var t;return null!=(t=et.getResponseHeader("Content-Type"))&&t.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},r=function(t){var e,n,r,o,i;for(o=t.querySelector("head").childNodes,i=[],e=0,n=o.length;n>e;e++)r=o[e],null!=("function"==typeof r.getAttribute?r.getAttribute("data-turbolinks-track"):void 0)&&i.push(r.getAttribute("src")||r.getAttribute("href"));return i},t=function(t){var e;return L||(L=r(document)),e=r(t),e.length!==L.length||o(e,L).length!==L.length},o=function(t,e){var n,r,o,i,a;for(t.length>e.length&&(o=[e,t],t=o[0],e=o[1]),i=[],n=0,r=t.length;r>n;n++)a=t[n],nt.call(e,a)>=0&&i.push(a);return i},!e()&&i()&&(n=v(et.responseText),n&&!t(n))?n:void 0},w=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,K(e.querySelector("body")),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e&&"function"==typeof e.getAttribute?e.getAttribute("content"):void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},v=function(t){var e;return e=document.documentElement.cloneNode(),e.innerHTML=t,e.head=e.querySelector("head"),e.body=e.querySelector("body"),e},n=function(){function t(e){return this.original=null!=e?e:document.location.href,this.original.constructor===t?this.original:void this._parse()}return t.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},t.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},t.prototype.hasNoHash=function(){return 0===this.hash.length},t.prototype.crossOrigin=function(){return this.origin!==(new t).origin},t.prototype._parse=function(){var t;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,t=this.link,this.href=t.href,this.protocol=t.protocol,this.host=t.host,this.hostname=t.hostname,this.port=t.port,this.pathname=t.pathname,this.search=t.search,this.hash=t.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},t}(),o=function(t){function e(t){return this.link=t,this.link.constructor===e?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void e.__super__.constructor.apply(this,arguments))}return rt(e,t),e.HTML_EXTENSIONS=["html"],e.allowExtensions=function(){var t,n,r,o;for(n=1<=arguments.length?it.call(arguments,0):[],r=0,o=n.length;o>r;r++)t=n[r],e.HTML_EXTENSIONS.push(t);return e.HTML_EXTENSIONS},e.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},e.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},e.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+e.HTML_EXTENSIONS.join("|")+")?$","g"))},e.prototype._optOut=function(){var t,e;for(e=this.originalElement;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},e.prototype._target=function(){return 0!==this.link.target.length},e}(n),e=function(){function t(t){this.event=t,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(D(this.link.absolute)||tt(this.link.href),this.event.preventDefault()))}return t.installHandlerLast=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",t.handle,!1),document.addEventListener("click",t.handle,!1))},t.handle=function(e){return new t(e)},t.prototype._extractLink=function(){var t;for(t=this.event.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return"A"===t.nodeName&&0!==t.href.length?this.link=new o(t):void 0},t.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},t.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},t}(),i=function(){function t(t){this.elementSelector=t,this._trickle=at(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var e;return e="turbolinks-progress-bar",t.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(e),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},t.prototype.uninstall=function(){return this.element.classList.remove(e),document.head.removeChild(this.styleElement)},t.prototype.start=function(){return this.advanceTo(5)},t.prototype.advanceTo=function(t){var e;if(t>(e=this.value)&&100>=e){if(this.value=t,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},t.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},t.prototype._reset=function(){var t;return t=this.opacity,setTimeout(function(t){return function(){return t.opacity=0,t._updateStyle()}}(this),this.speed/2),setTimeout(function(e){return function(){return e.value=0,e.opacity=t,e._withSpeed(0,function(){return e._updateStyle(!0)})}}(this),this.speed)},t.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},t.prototype._stopTrickle=function(){return delete this.trickling},t.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},t.prototype._withSpeed=function(t,e){var n,r;return n=this.speed,this.speed=t,r=e(),this.speed=n,r},t.prototype._updateStyle=function(t){return null==t&&(t=!1),t&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},t.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},t.prototype._createCSSRule=function(){return this.elementSelector+"."+e+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},t}(),l=function(t){return setTimeout(t,500)},O=function(){return document.addEventListener("DOMContentLoaded",function(){return Z(r.CHANGE),Z(r.UPDATE)},!0)},C=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e,n){return jQuery.trim(e.responseText)?Z(r.UPDATE):void 0}):void 0},A=function(t){var e,r;return(null!=(r=t.state)?r.turbolinks:void 0)?(e=H[new n(t.state.url).absolute])?(h(),k(e)):tt(t.target.location.href):void 0},N=function(){return U(),B(),document.addEventListener("click",e.installHandlerLast,!0),window.addEventListener("hashchange",function(t){return U(),B()},!1),l(function(){return window.addEventListener("popstate",A,!1)})},_=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),u=window.history&&window.history.pushState&&window.history.replaceState&&_,a=!navigator.userAgent.match(/CriOS\//),$="GET"===(X=M("request_method"))||""===X,c=u&&a&&$,s=document.addEventListener&&document.createEvent,s&&(O(),C()),c?(tt=S,N()):tt=function(t){return document.location.href=t},this.Turbolinks={visit:tt,pagesCached:I,enableTransitionCache:b,enableProgressBar:E,allowLinkExtensions:o.allowExtensions,supported:c,EVENTS:f(r)}}).call(this),function(){function t(t){for(var e=document.getElementsByClassName("js-react-on-rails-component"),n=0;n<e.length;n++)t(e[n])}function e(){t(o)}function n(){t(r)}function r(t){var e=t.getAttribute("data-dom-id"),n=document.getElementById(e);a().unmountComponentAtNode(n)}function o(t){var e=t.getAttribute("data-component-name"),n=t.getAttribute("data-dom-id"),r=JSON.parse(t.getAttribute("data-props")),o=JSON.parse(t.getAttribute("data-trace")),s=JSON.parse(t.getAttribute("data-generator-function")),l=JSON.parse(t.getAttribute("data-expect-turbo-links"));!c&&l&&console.warn("WARNING: NO TurboLinks detected in JS, but it is in your Gemfile");try{var h=document.getElementById(n);if(h){var d=i(e,r,n,o,s);if(u(d))throw new Error("You returned a server side type of react-router error: "+JSON.stringify(d)+"\nYou should return a React.Component always for the client side entry point.");a().render(d,h)}}catch(p){ReactOnRails.handleError({e:p,componentName:e,serverSide:!1})}}function i(t,e,n,r,o,i){return r&&console.log("RENDERED "+t+" to dom node with id: "+n),o?this[t](e,i):React.createElement(this[t],e)}function a(){return"undefined"==typeof ReactDOM?(React.version>="0.14"&&console.warn("WARNING: ReactDOM is not configured in webpack.server.rails.config.js file as an entry.\nSee: https://github.com/shakacode/react_on_rails/blob/master/docs/webpack.md for more detailed hints."),React):ReactDOM}function s(){return"undefined"==typeof ReactDOMServer?(React.version>="0.14"&&console.warn("WARNING: `react-dom/server` is not configured in webpack.server.rails.config.js file as an entry.\nSee: https://github.com/shakacode/react_on_rails/blob/master/docs/webpack.md for more detailed hints."),React):ReactDOMServer}function u(t){return!(!t.redirectLocation&&!t.error)}this.ReactOnRails={};var c="undefined"!=typeof Turbolinks;ReactOnRails.serverRenderReactComponent=function(t){var e=t.componentName,n=t.domId,r=t.props,o=t.trace,a=t.generatorFunction,c=t.location,l="",h=!1;try{var d=i(e,r,n,o,a,c);u(d)?(h=!!d.routeError,h?console.error("React Router ERROR: "+JSON.stringify(d.routeError)):o&&(redirectLocation=d.redirectLocation,redirectPath=redirectLocation.pathname+redirectLocation.search,console.log("ROUTER REDIRECT: "+e+" to dom node with id: "+n+", redirect to "+redirectPath))):l=s().renderToString(d)}catch(p){h=!0,l=ReactOnRails.handleError({e:p,componentName:e,serverSide:!0})}return consoleReplayScript=ReactOnRails.buildConsoleReplay(),JSON.stringify({html:l,consoleReplayScript:consoleReplayScript,hasErrors:h})},ReactOnRails.handleError=function(t){var e=t.e,n=t.componentName,r=t.jsCode,o=t.serverSide,i="ERROR: You specified the option generator_function (could be in your defaults) to be\n",a="A generator function takes a single arg of props and returns a ReactElement.";console.error("Exception in rendering!");var u="";if(n){var c=i+"false, but the React component '"+n+"' seems to be a generator function.\n"+a,l=/Can't add property context, object is not extensible/;l.test(e.message)&&(u+=c+"\n\n",console.error(c));var c=i+"true, but the React component '"+n+"' is not a generator function.\n"+a,h=/Cannot call a class as a function/;h.test(e.message)&&(u+=c+"\n\n",console.error(c))}if(r&&console.error("JS code was: "+r),e.fileName&&console.error("location: "+e.fileName+":"+e.lineNumber),console.error("message: "+e.message),console.error("stack: "+e.stack),o){u+="Exception in rendering!\n"+(e.fileName?"\nlocation: "+e.fileName+":"+e.lineNumber:"")+"\nMessage: "+e.message+"\n\n"+e.stack;var d=React.createElement("pre",null,u);return s().renderToString(d)}},ReactOnRails.wrapInScriptTags=function(t){return t?"\n<script>"+t+"\n</script>":""},ReactOnRails.buildConsoleReplay=function(){var t="",e=console.history;return e&&e.length>0&&e.forEach(function(e){t+="\nconsole."+e.level+".apply(console, "+JSON.stringify(e.arguments)+");"}),ReactOnRails.wrapInScriptTags(t)},"undefined"!=typeof document&&(c?(document.addEventListener("page:before-unload",n),document.addEventListener("page:change",e)):document.addEventListener("DOMContentLoaded",e))}.call(this);